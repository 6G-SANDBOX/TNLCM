trial_network:

  tn_vxlan:
    type: "tn_vxlan"
    dependencies: []
    input: {}
  tn_bastion:
    type: "tn_bastion"
    dependencies:
      - "tn_vxlan"
    input:
      one_component_networks:
        - "tn_vxlan.output.id"
  vnet-private_vnet_oneKE:
    type: "vnet"
    name: "private_vnet_oneKE"
    dependencies:
      - "tn_vxlan"
      - "tn_bastion"
    input:
      one_vxlan_name: "k8s_private_vxlan"
      one_vxlan_dns: "1.1.1.1"
      one_vxlan_address_size: 100
      one_vxlan_first_ip: "10.10.10.1"
      one_vxlan_gw: "10.10.10.1"
  k8s_medium-oneKE:
    type: "k8s_medium"
    name: "oneKE"
    dependencies:
      - "tn_vxlan"
      - "tn_bastion"
      - "vnet-private_vnet_oneKE"
    input:
      external_vnet_id: "tn_vxlan.output.id"
      internal_vnet_id: "vnet-private_vnet_oneKE.output.vxlan_id"
      service_name: "OneKE-sandbox-tn-uma"
      multus_enabled: "YES"
      cni_plugin: "canal"
      longhorn_enabled: "YES"
      metallb_enabled: "YES"
      metallb_range: "10.10.12.200-10.10.12.240"
      traefik_enabled: "NO"
      vnf_upstream_dns: "1.1.1.1 8.8.8.8"